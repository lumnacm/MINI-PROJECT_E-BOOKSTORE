{% extends 'admin/adminhome.html' %}

{% block body %}
<div class="container mt-4">
    <h2>ADD OFFLINE PURCHASES</h2>

    <form method="POST" action="" autocomplete="off">
        {% csrf_token %}

        <div class="form-group">
            <label for="book_id">Select Book:</label>
            <select class="form-control" id="book_id" name="book_id" required>
                <option value="">-- Select Book --</option>
                {% for book in books %}
                    <option value="{{ book.id }}">{{ book.title }} (Available: {{ book.quantity }})</option>
                {% endfor %}
            </select>
        </div>
        <br>

        <div class="form-group">
            <label for="name">Purchaser Name:</label>
            <input type="text" autocomplete="off" class="form-control" id="name" name="name" pattern="[A-Za-z]+" title="Enter a valid name" required maxlength="40">
        </div>
        <br>

        <div class="form-group">
            <label for="number">Contact Number:</label>
            <input type="text" autocomplete="off" class="form-control" id="number" name="number" required pattern="[789][0-9]{9}" title="Please Enter a valid phone">
        </div>
        <br>

        <div class="form-group">
            <label for="number">Quantity</label>
            <input type="number" autocomplete="off" class="form-control" id="qty" name="qty" required>
        </div>
        <br>
        <div class="form-group">
            <label for="place">Place:</label>
            <textarea class="form-control" autocomplete="off" id="place" name="place" rows="3" required></textarea>
        </div>
        <br>

        <button type="submit" class="btn btn-primary">Add Purchase</button>
        <a href="/view_offline_purchases" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
